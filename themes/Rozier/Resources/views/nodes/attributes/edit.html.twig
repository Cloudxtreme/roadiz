{% set currentTitle = source.title|default(node.nodeName) %}

{% extends '@Rozier/layout.html.twig' %}

{% block content %}
    <section class="content-global">
        <header class="content-header header-node header-node-edit-source">
            {% include '@Rozier/nodes/breadcrumb.html.twig' with {
                "node": node,
                "source": source,
            } only %}
            <h1 class="content-title node-edit-source-title"{% if source.translation.locale is rtl %} dir="rtl"{% endif %}>
                {{ ("edit.nodeSource.%name%"|trans({'%name%': currentTitle}))|truncate(30, false, '[â€¦]') }}
                {% include '@Rozier/nodes/nodeTypeCircle.html.twig' %}
            </h1>
            {#{% include '@Rozier/nodes/navBack.html.twig' %}#}
            {% include '@Rozier/nodes/navBar.html.twig' with {"current": 'attributes'} %}
            {% include '@Rozier/nodes/attributes/translationBar.html.twig' with {"current": translation.id} %}
        </header>

        <article class="content">
            {% form_theme addAttributeForm '@Rozier/forms.html.twig' %}
            {{ form_start(addAttributeForm, {
                'attr': {
                    'id': 'add-node-attribute-form',
                    'class': 'uk-form uk-form-stacked'
                }
            }) }}{{ form_widget(addAttributeForm) }}
            <fieldset data-uk-margin>
                {% spaceless %}
                    <button class="uk-button uk-button-primary" type="submit">
                        <span class="icon-container"><i class="uk-icon-plus"></i></span>
                        <span class="label"><span class="label-text">{% trans %}add.a.node.attribute{% endtrans %}</span></span>
                    </button>
                {% endspaceless %}
            </fieldset>
            {{ form_end(addAttributeForm) }}
        </article>

        {% include '@Rozier/nodes/actionsMenu.html.twig' %}
    </section>
{% endblock %}
